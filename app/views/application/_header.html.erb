<%
count ||= nil
large ||= nil
%>
<header class="jumbotron bg-transparent text-white">
  <span class="position-fixed" style="opacity: 0.3; right:-60px; top:-50px;">
    <div class="count-container d-none flex-column justify-content-center align-items-end">
      <span class="count">
        <%= count %>     
        <%= large %>
      </span>
      <% arrayWithAlternatives = ['categories', 'search', 'products']
        if arrayWithAlternatives.include?(request.path.split('/')[1]) || request.path.split('/')[1].nil? %>
        <p class="info-count">alternative<%= "s" if count > 1%></p>
      <% end %>
    </div>
  </span>
  <div class="container">
    <div class="row">
      <ol class="breadcrumb bg-transparent" id="ariane">
        <%= render_breadcrumbs :tag => :li, :separator => "<span class='separator'>&nbsp;/&nbsp;</span>" %>
      </ol>
    </div>
    <div class="row offset-md-1">
      <div class="col-lg-7">
        <h1><%= raw title %></h1>
        <p class="mt-3 mb-4 description"><%= raw text %></p>
        <%= form_tag(search_path, :method => "get") do %>  
          <div class="search">
            <div class="search-bar position-relative">
              <%= search_field_tag :id, current_controller?('search') ? params[:id] : '', placeholder: "Recherche une alternative ðŸ§¡", 
              class: "w-100 pl-4 pr-4" %>
              <span class="position-absolute button-container">
                <%= button_tag image_tag asset_path('search.svg'), class: "img-fluid", alt: "IcÃ´ne d'une loupe faire sa recherche", :name => nil %>
              </span>
            </div>
            <div class="d-flex align-items-end justify-content-start ml-3">
              <%= image_tag asset_path('arrow.svg'), class: "img-fluid", alt: "IcÃ´ne d'une flÃ¨che" %>
              <p>Tu peux par exemple chercher Â«Â Ã©pongeÂ Â» ðŸ§½</p> 
            </div>
          </div>  
        <% end %>   
      </div>
    </div>
  </div>
</header>
<% if count %>
  <%= javascript_tag do %>
    $('.count').each(function () {
      $(this).prop('Counter', 0).animate({
        Counter: $(this).text()
      }, {
        duration: 4000,
        easing: 'swing',
        step: function (now) {
          $(this).text(Math.ceil(now))
        }
      })
    })
  <% end %>
<% end %>
